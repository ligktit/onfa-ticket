# SMTP Email Configuration
# Cấu hình SMTP để gửi email vé tự động khi admin xác nhận thanh toán

# SMTP Server Host (ví dụ: smtp.gmail.com, smtp.outlook.com)
SMTP_HOST=smtp.gmail.com

# SMTP Port (587 cho TLS, 465 cho SSL)
SMTP_PORT=587

# Email đăng nhập SMTP
SMTP_USER=your-email@gmail.com

# Mật khẩu ứng dụng (App Password) - KHÔNG dùng mật khẩu thường
# Với Gmail: Cần tạo App Password tại https://myaccount.google.com/apppasswords
SMTP_PASS=your-app-password-here

# Ticket limits
VVIP_LIMIT=10
VIP_LIMIT=20

# ============================================
# Pusher Configuration - LOCAL DEVELOPMENT
# ============================================
# Create a separate Pusher app for local development to avoid mixing events
# Go to https://pusher.com and create a new app called "onfa-ticket-local"

# Local Pusher App ID (for development)
PUSHER_APP_ID_LOCAL=your-local-pusher-app-id

# Local Pusher Key (public, safe to expose)
PUSHER_KEY_LOCAL=your-local-pusher-key

# Local Pusher Secret (private, keep secure!)
PUSHER_SECRET_LOCAL=your-local-pusher-secret

# Local Pusher Cluster (e.g., us2, eu, ap1)
PUSHER_CLUSTER_LOCAL=us2

# ============================================
# Pusher Configuration - PRODUCTION
# ============================================
# Create a separate Pusher app for production deployment
# Go to https://pusher.com and create a new app called "onfa-ticket-prod"
# These will be set in Vercel Environment Variables

# Production Pusher App ID (set in Vercel)
# PUSHER_APP_ID_PROD=your-prod-pusher-app-id

# Production Pusher Key (set in Vercel)
# PUSHER_KEY_PROD=your-prod-pusher-key

# Production Pusher Secret (set in Vercel)
# PUSHER_SECRET_PROD=your-prod-pusher-secret

# Production Pusher Cluster (set in Vercel)
# PUSHER_CLUSTER_PROD=us2

# ============================================
# Fallback (for backward compatibility)
# ============================================
# If LOCAL/PROD variants are not set, these will be used
# PUSHER_APP_ID=fallback-app-id
# PUSHER_KEY=fallback-key
# PUSHER_SECRET=fallback-secret
# PUSHER_CLUSTER=us2

# ============================================
# Frontend Pusher Configuration (for .env file in project root)
# ============================================
# Add these to your .env file in the project root (not server/.env):
# VITE_PUSHER_KEY_LOCAL=your-local-pusher-key
# VITE_PUSHER_CLUSTER_LOCAL=us2
# VITE_PUSHER_KEY_PROD=your-prod-pusher-key (set in Vercel)
# VITE_PUSHER_CLUSTER_PROD=us2 (set in Vercel)

# ============================================
# n8n Webhook Configuration
# ============================================
# n8n Webhook URL for status changes
# If not set, defaults to: https://onfa-ticket-deploy.app.n8n.cloud/webhook/ticket-status
# Use /webhook/ for Production (Published workflows), /webhook-test/ for testing
N8N_STATUS_CHANGE_WEBHOOK_URL=https://onfa-ticket-deploy.app.n8n.cloud/webhook/ticket-status

# Lưu ý:
# 1. Đổi tên file này thành .env (thêm dấu chấm ở đầu)
# 2. Điền thông tin SMTP và Pusher LOCAL của bạn vào các biến trên
# 3. Với Gmail: Bật 2-Step Verification và tạo App Password
# 4. Không commit file .env vào git (đã có trong .gitignore)
# 5. Tạo 2 Pusher apps riêng biệt: một cho local, một cho production
